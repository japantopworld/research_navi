{% extends "base/layout.html" %}
{% block title %}新規登録 | リサーチナビ{% endblock %}
{% block content %}

<style>
  .register-container {
    max-width: 700px;
    margin: 2rem auto;
    padding: 2rem;
    background: #fff;
    border-radius: 0.8rem;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    font-size: 1rem;
  }
  .register-container h2 {
    margin-bottom: 1rem;
    color: #dc2626;
  }
  form .form-group {
    margin-bottom: 1rem;
  }
  label {
    display: block;
    margin-bottom: .3rem;
    font-weight: bold;
    color: #333;
  }
  input, select {
    width: 100%;
    padding: .6rem;
    border: 1px solid #ddd;
    border-radius: .5rem;
  }
  button {
    margin-top: 1rem;
    padding: .8rem 1.5rem;
    background: #dc2626;
    color: #ffeb3b;
    border: none;
    border-radius: .5rem;
    font-size: 1rem;
    cursor: pointer;
  }
  button:hover {
    opacity: 0.9;
  }
  .generated-id {
    margin-top: 1.5rem;
    padding: 1rem;
    background: #fef2f2;
    border: 1px solid #dc2626;
    border-radius: 0.5rem;
    color: #b91c1c;
    font-weight: bold;
    text-align: center;
  }
</style>

<div class="register-container">
  <h2>📝 新規登録</h2>

  {# ✅ 自動生成されたIDを画面に表示 #}
  {% if generated_id %}
  <div class="generated-id">
    🎉 あなたのユーザーIDは <strong>{{ generated_id }}</strong> です。<br>
    ログインの際にご利用ください。
  </div>
  {% endif %}

  <form method="POST" action="{{ url_for('register_bp.register') }}">
    <div class="form-group">
      <label>ユーザー名</label>
      <input type="text" name="username" required>
    </div>

    <div class="form-group">
      <label>ふりがな</label>
      <input type="text" name="furigana" required>
    </div>

    <div class="form-group">
      <label>生年月日</label>
      <input type="date" name="birthdate" required>
    </div>

    <div class="form-group">
      <label>年齢</label>
      <input type="number" name="age" min="0" required>
    </div>

    <div class="form-group">
      <label>電話番号</label>
      <input type="text" name="phone">
    </div>

    <div class="form-group">
      <label>携帯番号</label>
      <input type="text" name="mobile">
    </div>

    <div class="form-group">
      <label>メールアドレス</label>
      <input type="email" name="email" required>
    </div>

    <div class="form-group">
      <label>部署</label>
      <input type="text" name="department">
    </div>

    <div class="form-group">
      <label>職種</label>
      <select name="job_title" required>
        <option value="営業">営業</option>
        <option value="バイヤー">バイヤー</option>
        <option value="販売">販売</option>
        <option value="物流">物流</option>
        <option value="総合">総合</option>
        <option value="AI部">AI部</option>
      </select>
    </div>

    <div class="form-group">
      <label>紹介者NO</label>
      <input type="text" name="referrer_no" placeholder="例: KA, KB, KC">
    </div>

    <div class="form-group">
      <label>パスワード</label>
      <input type="password" name="password" required>
    </div>

    <button type="submit">✅ 登録する</button>
  </form>
</div>

{% endblock %}
