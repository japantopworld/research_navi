{% extends "base/layout.html" %}
{% block title %}ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›† | ãƒªã‚µãƒ¼ãƒãƒŠãƒ“{% endblock %}
{% block content %}

<style>
  .edit-wrap {
    max-width: 600px;
    margin: 8vh auto;
    padding: 2rem;
    background: #fff;
    border-radius: 1rem;
    box-shadow: 0 6px 24px rgba(0,0,0,.08);
  }
  .edit-wrap h1 {
    font-size: 1.6rem;
    margin-bottom: 1.5rem;
    text-align: center;
    color: #dc2626;
  }
  .edit-form {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
  .edit-form label {
    font-size: 0.9rem;
    font-weight: 600;
    color: #374151;
  }
  .edit-form input {
    width: 100%;
    padding: 0.8rem;
    border-radius: 0.5rem;
    border: 1px solid #d1d5db;
    font-size: 1rem;
  }
  .btn-save, .btn-back {
    margin-top: 1rem;
    padding: 0.9rem;
    border: none;
    border-radius: 0.6rem;
    font-weight: bold;
    cursor: pointer;
  }
  .btn-save {
    background: #dc2626; color: #ffeb3b;
  }
  .btn-save:hover { opacity: 0.9; }
  .btn-back {
    background: transparent; border: 1px solid #dc2626; color: #dc2626;
  }
  .btn-back:hover { background: #dc2626; color: #ffeb3b; }
  .flash {
    margin-bottom: 1rem;
    padding: .8rem;
    border-radius: .5rem;
    font-size: .9rem;
    background: #d1fae5;
    color: #065f46;
  }
</style>

<div class="edit-wrap">
  <h1>ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›†</h1>

  <!-- ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ -->
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      {% for category, msg in messages %}
        <div class="flash">{{ msg }}</div>
      {% endfor %}
    {% endif %}
  {% endwith %}

  <form method="post" class="edit-form">
    <div>
      <label for="name">åå‰</label>
      <input type="text" id="name" name="name" value="{{ user['ãƒ¦ãƒ¼ã‚¶ãƒ¼å'] }}" required>
    </div>
    <div>
      <label for="kana">ãµã‚ŠãŒãª</label>
      <input type="text" id="kana" name="kana" value="{{ user['ãµã‚ŠãŒãª'] }}">
    </div>
    <div>
      <label for="email">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</label>
      <input type="email" id="email" name="email" value="{{ user['ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹'] }}">
    </div>
    <div>
      <label for="dept">éƒ¨ç½²</label>
      <input type="text" id="dept" name="dept" value="{{ user['éƒ¨ç½²'] }}">
    </div>
    <div>
      <label for="phone">é›»è©±ç•ªå·</label>
      <input type="text" id="phone" name="phone" value="{{ user['é›»è©±ç•ªå·'] }}">
    </div>
    <div>
      <label for="mobile">æºå¸¯ç•ªå·</label>
      <input type="text" id="mobile" name="mobile" value="{{ user['æºå¸¯ç•ªå·'] }}">
    </div>
    <div>
      <label for="ref_no">ç´¹ä»‹è€…NO</label>
      <input type="text" id="ref_no" name="ref_no" value="{{ user['ç´¹ä»‹è€…NO'] }}">
    </div>
    <div>
      <label for="password">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´ï¼ˆç©ºæ¬„ãªã‚‰å¤‰æ›´ãªã—ï¼‰</label>
      <input type="password" id="password" name="password">
    </div>
    <button type="submit" class="btn-save">ä¿å­˜ã™ã‚‹</button>
  </form>

  <!-- æˆ»ã‚‹ãƒœã‚¿ãƒ³ -->
  <form action="{{ url_for('mypage', user_id=user['ID']) }}" method="get">
    <button type="submit" class="btn-back">ğŸ‘ˆ ãƒã‚¤ãƒšãƒ¼ã‚¸ã«æˆ»ã‚‹</button>
  </form>
</div>

{% endblock %}
