{% extends "base/layout.html" %}
{% block title %}📥 メールボックス{% endblock %}
{% block content %}

<h2 style="text-align:center;">📥 {{ user_id }} さんの受信ボックス</h2>

<table class="inbox">
  <tr>
    <th>送信者</th><th>件名</th><th>日時</th><th>状態</th>
  </tr>
  {% for m in messages %}
    <tr class="{{ 'unread' if m['ステータス']=='未読' else 'read' }}">
      <td>{{ m["送信者"] }}</td>
      <td>
        <a href="{{ url_for('news_detail', msg_id=loop.index0) }}">
          {{ m["件名"] }}
        </a>
      </td>
      <td>{{ m["送信日時"] }}</td>
      <td>{{ m["ステータス"] }}</td>
    </tr>
  {% endfor %}
</table>

<style>
  .inbox { width:80%; margin:1rem auto; border-collapse: collapse; }
  .inbox th, .inbox td { border:1px solid #ddd; padding:8px; text-align:center; }
  .inbox .unread { background:#fff; color:#dc2626; font-weight:700; }
  .inbox .read { background:#f3f4f6; color:#555; }
</style>

{% endblock %}
